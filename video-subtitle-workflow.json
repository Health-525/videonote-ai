{
  "name": "Video Subtitle Extraction Workflow",
  "nodes": [
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.assemblyai.com/v2/transcript",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "{\n  \"authorization\": \"YOUR_ASSEMBLYAI_API_KEY\",\n  \"content-type\": \"application/json\"\n}\n",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"audio_url\": \"{{ $json.url }}\",\n  \"punctuate\": true,\n  \"format_text\": true\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -704,
        444
      ],
      "id": "0ca10a05-d870-4fe1-be45-95f9f96008ab",
      "name": "HTTP Request1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        -480,
        444
      ],
      "id": "4f5f5661-c64d-4ada-bd8d-5383118c72e3",
      "name": "Wait",
      "webhookId": "YOUR_WEBHOOK_ID_1"
    },
    {
      "parameters": {
        "url": "=https://api.assemblyai.com/v2/transcript/{{ $json.id }}",
        "sendHeaders": true,
        "specifyHeaders": "json",
        "jsonHeaders": "{\n  \"Authorization\": \"YOUR_ASSEMBLYAI_API_KEY\"\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -256,
        444
      ],
      "id": "bb8606b9-ca1a-43cf-b9b5-6a75ddf60c11",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½ æ˜¯ä¸€ä½AIå­¦ä¹ ç¬”è®°åŠ©æ‰‹ï¼Œæ“…é•¿å°†è¯¾ç¨‹è§†é¢‘è½¬åŒ–ä¸ºç»“æ„åŒ–çš„å­¦ä¹ è®°å½•ã€‚  \nè¯·å¯¹è¾“å…¥çš„è§†é¢‘å†…å®¹è¿›è¡Œåˆ†æï¼Œç”Ÿæˆè¯¦ç»†ç¬”è®°ï¼ŒåŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š\n---\nğŸ¯ è§†é¢‘ä¸»é¢˜\nç®€è¦è¯´æ˜æœ¬èŠ‚è§†é¢‘è®²è§£çš„æ ¸å¿ƒå†…å®¹ã€‚\nğŸ§© å…³é”®æ¦‚å¿µä¸å…¬å¼\nåˆ—å‡ºä¸»è¦æ¦‚å¿µã€å…¬å¼æˆ–ç®—æ³•ï¼Œå¹¶ç®€çŸ­è§£é‡Šã€‚\nğŸ§  çŸ¥è¯†é€»è¾‘\nè¯´æ˜å†…å®¹çš„é€»è¾‘å…³ç³»ï¼ˆå¦‚ä»ç†è®ºâ†’æ¨å¯¼â†’åº”ç”¨ï¼‰ã€‚\nğŸ“š å­¦ä¹ é‡ç‚¹\næç‚¼å­¦ä¹ æ—¶æœ€è¯¥å…³æ³¨çš„3~5ä¸ªé‡ç‚¹ã€‚\nğŸ§° å®é™…åº”ç”¨\nè¯´æ˜çŸ¥è¯†åœ¨æœºå™¨å­¦ä¹ /æ·±åº¦å­¦ä¹ å®è·µä¸­çš„åº”ç”¨ã€‚\nğŸ—’ï¸ å­¦ä¹ å»ºè®®\nç»™å‡º2~3æ¡å¤ä¹ æˆ–æ‰©å±•å­¦ä¹ å»ºè®®ã€‚\n---\nè¦æ±‚ï¼š\n- è¾“å‡ºè¯­è¨€æ¸…æ™°ã€ç®€æ´ã€æ¡ç†åˆ†æ˜ï¼›\n- é€‚åˆäººç±»é˜…è¯»ï¼›\n- ä¸è¾“å‡ºJSONï¼›\n- è‹¥å†…å®¹ä¸å±äºå­¦ä¹ æˆ–æ•™å­¦è§†é¢‘ï¼Œè¯·è¾“å‡ºï¼š"æœªæ£€æµ‹åˆ°å­¦ä¹ ç›¸å…³å†…å®¹ã€‚"\nå‚è€ƒæ–‡æ¡ˆï¼š\n\"\"\"\n{{ $json.text }}\n\"\"\"\n",
        "hasOutputParser": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -32,
        192
      ],
      "id": "0640794c-a05f-48ac-955c-f043b586c79d",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatDeepSeek",
      "typeVersion": 1,
      "position": [
        -24,
        416
      ],
      "id": "44516839-52e9-4363-99bf-1962646d925f",
      "name": "DeepSeek Chat Model",
      "credentials": {
        "deepSeekApi": {
          "id": "YOUR_DEEPSEEK_CREDENTIAL_ID",
          "name": "DeepSeek account"
        }
      }
    },
    {
      "parameters": {
        "executeOnce": false,
        "command": "=/n8n/venv/bin/yt-dlp -x --audio-format mp3 --audio-quality 192k -o /n8n/storage/audio3.mp3 \"YOUR_VIDEO_URL_HERE\""
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        -1152,
        -32
      ],
      "id": "29cc978b-1f3c-4ffe-ace2-e11411d4addd",
      "name": "Execute Command"
    },
    {
      "parameters": {
        "formTitle": "éŸ³é¢‘æ–‡ä»¶",
        "formFields": {
          "values": [
            {
              "fieldLabel": "data",
              "fieldType": "file"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [
        -1152,
        444
      ],
      "id": "1747d599-0ac1-4553-ae13-618f5f8f997d",
      "name": "On form submission",
      "webhookId": "YOUR_WEBHOOK_ID_2"
    },
    {
      "parameters": {
        "operation": "uploadFile",
        "resource_type_file": "video",
        "additionalFieldsFile": {}
      },
      "type": "n8n-nodes-cloudinary.cloudinary",
      "typeVersion": 1,
      "position": [
        -928,
        444
      ],
      "id": "81fd8ea9-4021-4ef5-8ec9-e6c88b5eb912",
      "name": "Upload an asset from file data",
      "credentials": {
        "cloudinaryApi": {
          "id": "YOUR_CLOUDINARY_CREDENTIAL_ID",
          "name": "Cloudinary account"
        }
      }
    },
    {
      "parameters": {
        "operation": "toText",
        "sourceProperty": "text",
        "options": {}
      },
      "type": "n8n-nodes-base.convertToFile",
      "typeVersion": 1.1,
      "position": [
        32,
        592
      ],
      "id": "7f5dec04-29d2-4236-9fd1-d3d07b9bf036",
      "name": "Convert to File1"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n  \"summary\": \"å¯¹éŸ³é¢‘å†…å®¹çš„ç®€æ˜æ€»ç»“\",\n  \"main_points\": [\n    \"è¦ç‚¹1\",\n    \"è¦ç‚¹2\",\n    \"è¦ç‚¹3\"\n  ],\n  \"keywords\": [\n    \"å…³é”®è¯1\",\n    \"å…³é”®è¯2\",\n    \"å…³é”®è¯3\"\n  ],\n  \"tone\": \"æ–‡æœ¬çš„è¯­æ°”ï¼ˆç§¯æã€ä¸­æ€§ã€æ¶ˆæï¼‰\",\n  \"category\": \"å†…å®¹ç±»å‹ï¼ˆå­¦ä¹ ã€æŠ€æœ¯ã€æ•™ç¨‹ã€ç”Ÿæ´»ç­‰ï¼‰\"\n}\n"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.3,
      "position": [
        104,
        416
      ],
      "id": "1d81db96-21b7-410d-801e-5140295d892c",
      "name": "Structured Output Parser"
    }
  ],
  "pinData": {},
  "connections": {
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          },
          {
            "node": "Convert to File1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "DeepSeek Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "On form submission": {
      "main": [
        [
          {
            "node": "Upload an asset from file data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload an asset from file data": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "AI Agent",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "PLACEHOLDER_VERSION_ID",
  "meta": {
    "instanceId": "PLACEHOLDER_INSTANCE_ID"
  },
  "id": "PLACEHOLDER_WORKFLOW_ID",
  "tags": []
}